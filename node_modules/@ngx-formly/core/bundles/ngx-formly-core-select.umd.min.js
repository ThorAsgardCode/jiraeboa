!function(o,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@ngx-formly/core/select",["exports","@angular/core","rxjs","rxjs/operators"],e):e((o["ngx-formly"]=o["ngx-formly"]||{},o["ngx-formly"].core=o["ngx-formly"].core||{},o["ngx-formly"].core.select={}),o.ng.core,o.rxjs,o.rxjs.operators)}(this,function(o,e,r,i){"use strict";var t=function(){function o(){}return o.prototype.transform=function(o,e){var t=this;return o instanceof r.Observable?this.dispose():o=this.observableOf(o,e),o.pipe(i.map(function(o){return t.toOptions(o,e||{})}))},o.prototype.ngOnDestroy=function(){this.dispose()},o.prototype.toOptions=function(o,e){var t=this,r=[],n={},p=e.templateOptions||{};return p._flatOptions=!0,o.map(function(o){t.getGroupProp(o,p)?(p._flatOptions=!1,n[t.getGroupProp(o,p)]||(n[t.getGroupProp(o,p)]=[],r.push({label:t.getGroupProp(o,p),group:n[t.getGroupProp(o,p)]})),n[t.getGroupProp(o,p)].push(t.toOption(o,p))):r.push(t.toOption(o,p))}),r},o.prototype.toOption=function(o,e){return{label:this.getLabelProp(o,e),value:this.getValueProp(o,e),disabled:this.getDisabledProp(o,e)||!1}},o.prototype.getLabelProp=function(o,e){return"function"==typeof e.labelProp?e.labelProp(o):this.shouldUseLegacyOption(o,e)?(console.warn("NgxFormly: legacy select option '{key, value}' is deprecated since v5.5, use '{value, label}' instead."),o.value):o[e.labelProp||"label"]},o.prototype.getValueProp=function(o,e){return"function"==typeof e.valueProp?e.valueProp(o):this.shouldUseLegacyOption(o,e)?o.key:o[e.valueProp||"value"]},o.prototype.getDisabledProp=function(o,e){return"function"==typeof e.disabledProp?e.disabledProp(o):o[e.disabledProp||"disabled"]},o.prototype.getGroupProp=function(o,e){return"function"==typeof e.groupProp?e.groupProp(o):o[e.groupProp||"group"]},o.prototype.shouldUseLegacyOption=function(o,e){return!e.valueProp&&!e.labelProp&&null!=o&&"object"==typeof o&&"key"in o&&"value"in o},o.prototype.dispose=function(){this._options&&(this._options.complete(),this._options=null),this._subscription&&(this._subscription.unsubscribe(),this._subscription=null)},o.prototype.observableOf=function(o,n){var p=this;return this.dispose(),n&&n.options&&n.options.fieldChanges&&(this._subscription=n.options.fieldChanges.pipe(i.filter(function(o){var e=o.property,t=o.type,r=o.field;return"expressionChanges"===t&&0===e.indexOf("templateOptions.options")&&r===n&&Array.isArray(r.templateOptions.options)&&!!p._options}),i.tap(function(){return p._options.next(n.templateOptions.options)})).subscribe()),this._options=new r.BehaviorSubject(o),this._options.asObservable()},o.decorators=[{type:e.Pipe,args:[{name:"formlySelectOptions"}]}],o}(),n=function(){function o(){}return o.decorators=[{type:e.NgModule,args:[{declarations:[t],exports:[t]}]}],o}();o.FormlySelectModule=n,o.FormlySelectOptionsPipe=t,Object.defineProperty(o,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-formly-core-select.umd.min.js.map